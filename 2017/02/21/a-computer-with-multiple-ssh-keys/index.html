<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description" content="一个美男子的前端技术博客。"><meta name="keywords" content="Hexo, Gruntjs, Nodejs, Reactjs, Vuejs"><title>一台电脑配置多个SSH KEY，多个用户身份 - 啦啦啦撸啊撸</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/favicon.ico"></head><body><div class="post-header"><img class="background" src="http://callfiles.ueibo.com/hexo-theme-laughing/post_background.jpg"><div class="post-title"><h1 class="title">一台电脑配置多个SSH KEY，多个用户身份</h1><ul class="meta"><li><i class="icon icon-author"></i>Heleth</li><li><i class="icon icon-clock"></i>6 Minutes</li><li><i class="icon icon-calendar"></i>February 21, 2017</li></ul></div></div><div class="article-content" style="max-width:600px"><p><img src="/images/multiple_git.png" alt="multiple git"></p>
<a id="more"></a>
<h1 id="SSH-KEY"><a href="#SSH-KEY" class="headerlink" title="SSH KEY"></a>SSH KEY</h1><h2 id="生成-SSH-KEY"><a href="#生成-SSH-KEY" class="headerlink" title="生成 SSH KEY"></a>生成 SSH KEY</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -t rsa -C <span class="string">"your_email@example.com"</span></div><div class="line">Generating public/private rsa key pair.</div><div class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/Users/your_user_directory/.ssh/id_rsa):</div><div class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):</div><div class="line">Enter same passphrase again:</div></pre></td></tr></table></figure>
<p><code>your_email@example.com</code> 改成自己的邮箱。</p>
<p>密码输入成功后出现如下提示，表示创建成功：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Your identification has been saved in /Users/your_user_directory/.ssh/id_rsa.</div><div class="line">Your public key has been saved in /Users/your_user_directory/.ssh/id_rsa.pub.</div><div class="line">The key fingerprint is:</div><div class="line">fingerprint值 your_email@example.com</div><div class="line">The key&apos;s randomart image is:</div><div class="line"> +--[ RSA 2048]----+</div><div class="line"> | .+ + |</div><div class="line"> | =oO. |</div><div class="line"> ...</div></pre></td></tr></table></figure>
<p>注解：这里第一次输入的是<strong>文件名</strong>，如果直接按回车则会自动生成私钥和公钥：<code>id_rsa</code>、<code>id_rsa.pub</code>。后面跟着的是<strong>密码</strong>和<strong>确认密码</strong>。</p>
<p>上方的命令执行多次则会生成多个 SSH KEY。</p>
<h2 id="查看-SSH-KEY"><a href="#查看-SSH-KEY" class="headerlink" title="查看 SSH KEY"></a>查看 SSH KEY</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ cat ~/.ssh/id_rsa.pub</div><div class="line">ssh-rsa 公开密钥的内容 your_email@example.com</div></pre></td></tr></table></figure>
<p>如果创建时输入了文件名，上方的<code>id_rsa</code>替换成文件名。</p>
<p>此处返回的这段内容可用于使用 SSH KEY 的网站，这里不作过多阐述。</p>
<h1 id="GIT-CONFIG"><a href="#GIT-CONFIG" class="headerlink" title="GIT CONFIG"></a>GIT CONFIG</h1><p>像 <code>github</code> 或者 <code>gitlab</code> 等网站都会要求验证身份。通常情况下配置一个全局信息就可以了，针对一些特殊情况，如果需要配置多个身份信息，可以为项目单独配置。</p>
<h2 id="配置全局信息"><a href="#配置全局信息" class="headerlink" title="配置全局信息"></a>配置全局信息</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git config --global user.name <span class="string">"Firstname Lastname"</span></div><div class="line">$ git config --global user.email <span class="string">"your_email@example.com"</span></div></pre></td></tr></table></figure>
<p>这个命令会在<code>~/.gitconfig</code>填入以下信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[user]</div><div class="line">  name = Firstname Lastname</div><div class="line">  email = your_email@example.com</div></pre></td></tr></table></figure>
<p>如果需要修改信息，直接修改这个文件即可。</p>
<h2 id="配置单独信息"><a href="#配置单独信息" class="headerlink" title="配置单独信息"></a>配置单独信息</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> your_project</div><div class="line">$ git config user.name <span class="string">"Firstname Lastname"</span></div><div class="line">$ git config user.email <span class="string">"your_email@example.com"</span></div></pre></td></tr></table></figure>
<p>这个命令会在项目目录下输出文件：<code>/.git／.config</code></p>
<p>这里设置的姓名和邮箱地址会用在 Git 的提交日志中。</p>
<h1 id="为不同网站应用各自的-SSH-KEY"><a href="#为不同网站应用各自的-SSH-KEY" class="headerlink" title="为不同网站应用各自的 SSH KEY"></a>为不同网站应用各自的 SSH KEY</h1><p>在 <code>~/.ssh</code> 目录下创建 <code>config</code> 文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ vim ~/.ssh/config</div></pre></td></tr></table></figure>
<p>输入以下信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Host github.com</div><div class="line">    HostName github.com</div><div class="line">    User git</div><div class="line">    IdentityFile ~/.ssh/id_rsa_a</div><div class="line"></div><div class="line">Host git.oschina.net</div><div class="line">    HostName git.oschina.net</div><div class="line">    User git</div><div class="line">    IdentityFile ~/.ssh/id_rsa_b</div><div class="line"></div><div class="line">...</div></pre></td></tr></table></figure>
<p>再把对应的公钥添加至对应的网站上面。</p>
<p>注解：未加入配置文件的网站会自动应用<code>id_rsa</code>。</p>
<p>至此，多个 SSH KEY 就可以同时使用了。</p>
</div><div class="article-meta" style="max-width:600px"><div class="tags"><i class="icon icon-tag"></i><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a><span class="tag-list-count">1</span></li></ul></div><div class="categories"><i class="icon icon-category"></i><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a><span class="category-list-count">1</span></li></ul></div></div><div class="article-comment" style="max-width:600px"><div class="ds-thread" id="ds-thread" data-thread-key="cizfeikg30000722islidkhwi" data-title="一台电脑配置多个SSH KEY，多个用户身份" data-url="http://yoursite.com/2017/02/21/a-computer-with-multiple-ssh-keys/" site-name="ueibo"></div><script>var siteName = document.getElementById('ds-thread').getAttribute('site-name');
var duoshuoQuery = {short_name: siteName};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
  || document.getElementsByTagName('body')[0]).appendChild(ds);
})();</script></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2016/11/28/react-typescript-webpack/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="http://github.com/BoizZ" title="GitHub" target="_blank"><i class="icon icon-github"></i></a></li><li><a href="http://weibo.com/heqibang" title="Weibo" target="_blank"><i class="icon icon-weibo"></i></a></li><li><a href="http://www.segmentfault.com/u/bon" title="SegmentFault" target="_blank"><i class="icon icon-segmentfault"></i></a></li></ul></div><div class="bottom"><p class="copyright">© 2017 啦啦啦撸啊撸<br><small>POWER BY <a href="https://hexo.io" target="_blank">HEXO</a></small><small>, THEME BY <a href="https://github.com/BoizZ/hexo-theme-laughing" target="_blank">LAUGHING</a></small></p></div></div></body></html>